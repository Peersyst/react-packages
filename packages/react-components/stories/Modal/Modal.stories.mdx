import {Canvas, Meta} from "@storybook/addon-docs";
import {Modal} from "../../src";
import {ModalProvider} from "../../src";
import ShowUncontrolledModal from "./component/ShowUncontrolledModal";
import Example from "./component/Example";
import ShowControlledModal from "./component/ShowControlledModal";
import themedContainer from "../styles/themedContainer";

<Meta
    title="Components/Feedback/Modal"
    component={Modal}
    parameters={
        {
            docs: {
                container: themedContainer
            },
        }
    }
/>

# Modal

Modals are used to display a message or some elements that require special attention.

## Example

<Canvas>
    <ModalProvider>
        <Example />
    </ModalProvider>
</Canvas>

## Usage

There are 2 types of usages:

### Controlled usage

This is the typical usage, put the Modal on your jsx tree and toggle its open prop.

````jsx
<Button onClick={() => setOpen(true)}>Show Controlled Modal</Button>
    <Modal open={open} onClose={() => setOpen(false)}>
    <Button onClick={() => setOpen(false)}>Close me</Button>
</Modal>
````

<Canvas>
    <ShowControlledModal />
</Canvas>

### ModalProvider usage

This is a cooler usage using the ModalProvider. You can use the functions from the useModal hook to interact with the Modal.

#### useModal hook

This hook is used to interact with Modals in your app, injecting them into the ModalManager.

##### showModal

Shows a Modal. This function receives a Modal component and its props. Note that a name must be provided in order to identify the Modal in the ModalManager.

##### hideModal

Hides the Modal with the name provided.

##### isModalActive

Returns true if a Modal with the given name is open

##### Usage

````jsx
<ModalProvider>
    <Button
    onClick={() => {
      showModal(Modal, {
        name: 'modal',
        children: (
          <Button onClick={() => hideModal('modal')}>Close me</Button>
        ),
      });
    }}
    >
        Show Modal
    </Button>
</ModalProvider>
````

<Canvas>
    <ModalProvider>
        <ShowUncontrolledModal />
    </ModalProvider>
</Canvas>

To use this, a ModalProvider has to be placed at the root of your app.
