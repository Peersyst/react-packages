import {Canvas, Meta} from "@storybook/addon-docs";
import {ModalProvider, Backdrop} from "../../src";
import Example from "./component/Example";
import ShowControlledBackdrop from "./component/ShowControlledBackdrop";
import ShowUncontrolledBackdrop from "./component/ShowUncontrolledBackdrop";
import themedContainer from "../styles/themedContainer";

<Meta
    title="Components/Feedback/Backdrop"
    component={Backdrop}
    parameters={
        {
            docs: {
                container: themedContainer
            },
        }
    }
/>

# Backdrop

Backdrop is used to display something on top of your app.

## Example

<Canvas>
    <ModalProvider>
        <Example />
    </ModalProvider>
</Canvas>

## Usage

There are 2 types of usages:

### Controlled usage

This is the typical usage, put the Backdrop on your jsx tree and toggle its open prop.

````jsx
<>
    <Button onClick={() => setOpen(true)}>Show Controlled Backdrop</Button>
    <Backdrop open={open} onClose={() => setOpen(false)} />
</>
````

<Canvas>
    <ShowControlledBackdrop />
</Canvas>

### ModalProvider usage

This is a cooler usage using the ModalProvider. You can use the functions from the useBackdrop hook to interact with the Backdrop. This hook uses the useModal hook, but this way readability is improved.

#### useBackdrop hook

This hook is used to interact with Backdrops in your app, injecting them into the ModalManager.

##### showBackdrop

Shows a Backdrop. This function receives a Backdrop component and its props. Note that a name must be provided in order to identify the Backdrop in the ModalManager.

##### hideBackdrop

Hides the Backdrop with the name provided.

##### isBackdropActive

Returns true if a Backdrop with the given name is open

##### Usage

````jsx
<ModalProvider>
    <Button
        onClick={() =>
          showBackdrop(Backdrop, {
            name: 'backdrop',
          })
        }
      >
        Show Uncontrolled Backdrop
    </Button>
</ModalProvider>
````

<Canvas>
    <ModalProvider>
        <ShowUncontrolledBackdrop />
    </ModalProvider>
</Canvas>

To use this, a ModalProvider has to be placed at the root of your app.

