import { Meta, Props } from "@storybook/addon-docs";
import { ThemeProvider } from "@peersyst/react-components";

<Meta title="Theming/Theming" />

# Theme

In order to take the most advantage from this package, it is highly recommended using its ThemeProvider and customizing its themes.

## ThemeProvider

This theme provider, provides the theme to all components in your app, using the React Context API and styled-components provider.

Also, it takes charge of changing the scheme to light or dark depending on the user's system scheme or preferences.

**Note: color scheme preference is stored in the browser's local storage with *process.env.REACT_APP_NAME*-color-scheme. So it is recommended to set REACT_APP_NAME env variable**

<Props of={ThemeProvider} />

## createTheme

A custom theme can be created with createTheme.

### Loader

The default loader can be changed with the loader property.

Its value had to be a Component.

```typescript
const theme = createTheme({
    loader: CustomLoader,
});
```

### Icons

Default icons can also be changed with icons property and their names. Values have to be Components as well.

```typescript
const theme = createTheme({
    icons: {
        info: CustomInfoIcon,
        error: CustomErrorIcon,
        success: CustomSuccessIcon,
        warning: CustomWarningIcon,
        hide: CustomHideIcon,
        show: CustomShowIcon,
        cross: CustomCrossIcon,
    },
});
```

### Typography

Typography variants can be modified, removed or added.

```typescript
const theme = createTheme({
    typography: {
        // Modify existing variant
        h1: {
            textDecoration: "underline",
        },
        // Remove existing variant
        subtitle2: undefined,
        // Add new variant
        title: {
            fontSize: "1.75rem",
        },
    },
});
```

Some declaration merging is needed in order to update types.

```typescript
import "peersyst-react-components";

declare module "peersyst-react-components" {
    // Add title in theme type
    export interface ThemeTypography {
        title: TypographyVariant;
    }
    // Add title in create the type
    export interface CreateThemeTypography {
        title: TypographyVariant;
    }
    // Modify typography variants type
    export interface TypographyVariantsOverrides {
        subtitle2: false;
        title: true;
    }
}
```

### Palette

Palette are the colors to be used in the app. You can modify all existing colors and add as many new ones as you want.

```typescript
const theme = createTheme({
    palette: {
        /**
         * mode can be light or dark.
         * If not provided, defaults to light
         */
        mode: "light",
        // Modifying existing colors
        // Colors CANNOT be words like "white" or "black"
        primary: "rgb(97, 219, 251)",
        disabled: "rgb(149,149,149)",
        background: "rgb(255, 255, 255)",
        backdrop: "rgba(0, 0, 0, 0.5)",
        text: "rgb(0, 0, 0)",
        status: {
            info: "rgb(2, 136, 209)",
            error: "rgb(211, 47, 47)",
            warning: "rgb(237, 108, 2)",
            success: "rgb(46, 125, 50)",
        },
        // Add a new color
        secondary: "rgb(253, 10, 168)",
    },
});
```

To add a new color, types have to be extended by using declaration merging.

```typescript
declare module "peersyst-react-components" {
    export interface ThemePalette {
        secondary: string;
    }
}
```

### Breakpoints

Breakpoint values can also be modified or added.

```typescript
const theme = createTheme({
    breakpoints: {
        values: {
            // Modify existing value
            mobile: 400,
            // Add a new value
            tablet: 800,
        },
    },
});
```

Some declaration merging is needed in order to update types.

```typescript
import "peersyst-react-components";

declare module "peersyst-react-components" {
    // Extend BreakpointValues
    export interface ThemeBreakpointValues {
        tablet: number;
    }
}
```

### Default Toast animation

```typescript
const theme = createTheme({
    toastAnimation: "fade",
});
```

### Default Toast position

```typescript
const theme = createTheme({
    toastPosition: "top-left",
});
```

### Global border radius

```typescript
const theme = createTheme({
    borderRadius: "5px",
});
```

### Blockchain links

Blockchain links can be modified, removed or added:

```typescript
const myCustomTheme = createTheme({
    blockchainLinks: {
        // Modify existing link
        address: "https://explorer.harmony.one/address/",
        // Remove existing link
        tx: undefined,
        // Add new link
        newLink: "https://explorer.harmony.one/newLink/",
    },
});
```

```typescript
import "peersyst-react-components";

declare module "peersyst-react-components" {
    // Add newLink in theme type
    export interface BlockchainLinks {
        newLink: string;
    }
    // Modify BlockchainLinkTypes type
    export interface BlockchainLinksTypesOverrides {
        tx: false;
        newLink: true;
    }
}
```

### Translate

Translate function used to translate validator messages.

```typescript
const theme = createTheme({
    translate: (w: string) => translateFunction(w),
});
```
